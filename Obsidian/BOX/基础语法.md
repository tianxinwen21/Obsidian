+#input #CS #programming_language 
# JavaSE
## 1. 初始Java

### 1.1.JDK、JRE、JVM之间的关系？

- JDK：Java开发工具包，提供给Java程序员使用，包含了JRE，同时还包含了编译器javac等；
- JRE：Java运行环境；
- JVM：Java虚拟机，运行Java代码。

- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212051825166.png)
- **Java虚拟机运行时数据区的划分** :
- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212141637852.png)
- 程序计数器 (PC Register): 只是一个很小的空间, 保存下一条执行的指令的地址 .
- 虚拟机栈( JVM Stack): 与方法调用相关的一些信息，每个方法在执行时，都会先创建一个栈帧，栈帧中包含有：局部变量表、操作数栈、动态链接、返回地址以及其他的一些信息，保存的都是与方法执行时相关的一些信息。比如：局部变量。当方法运行结束后，栈帧就被销毁了，即栈帧中保存的数据也被销毁了。
- 本地方法栈(Native Method Stack): 本地方法栈与虚拟机栈的作用类似. 只不过保存的内容是Native方法的局部变量. 在有些版本的 JVM 实现中(例如HotSpot), 本地方法栈和虚拟机栈是一起的.
- 堆(Heap): JVM所管理的最大内存区域. 使用  new 创建的对象都是在堆上保存 (例如前面的   new int[]{1, 2, 3} )，堆是随着程序开始运行时而创建，随着程序的退出而销毁，堆中的数据只要还有在使用，就不会被销毁。
- 方法区(Method Area): 用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据. 方法编译出的的字节码就是保存在这个区域 .

- **标识符** ：在程序中由用户给**类名、方法名、或者变量名所取得名字** ,即某样事物得名字。

- **标识符硬性规定：**
1. 可以包含 **字母、数字以及下划线和￥符号** .
2. 标识符 **不能以数字开头，也不能是关键字**，且严格区分字母的大小写

- **软性建议：**

1. 类名：每个单词的首字母大写（**大驼峰**）.
2. 方法名：首字母小写，后面的每个单词的首字符大写（**小驼峰**）.

- **关键字**：关键字是由Java提前定义好的，有特殊含义的标识符或者保留字。

### 1.2. Java的优越特性

#### 1.2.1 体系结构中立

- 俗话说的好"write once, run anywhere", 因为Java编译器通过生成与特定计算机体系结构无关的 **字节码** 指令来实现这一个无敌的特性,然后直接面向JVM .

- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212092124854.png)
- 这一特性的牛逼之处在于, 其他语言编写的程序, 在编译后如果能够严格按照字节码文件的规范生成 `.class` 文件, 也可以在 JVM 上运行 .

- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212092127046.png)
#### 1.2.2 简单性

- Java语法是 **C++语法的"纯净版"** .

#### 1.2.3 面向对象

- 在Java的世界里, 一切皆对象 .与C+的主要不用点在于 **多继承** , Java取而代之的是接口 .

#### 1.2.4 可移植性

- Java的基本数据类型的大小以及运算都做了明确的规定, 所以在Java中数据类型具有固定的大小 .

#### 1.2.5  解释性

- Java为了实现与平台无关, 自己维护了一套基于栈架构的指令集 .Java是边解释边执行的, 因此Java代码的运行效率偏低, 但JVM也在不断优化中 .

#### 1.2.6 多线程

- Java是第一个支持并发程序设计的主流语言 .

#### 1.2.7 动态性

- Java能够很好的适应不断发展的环境, 因为它的库中可以自由的添加新的方法和实例变量, 而且不会对客户端照成任何影响 .并且在Java中找出运行时类型信息十分简单(映射) .


- **总结** : *Java不仅仅是一门程序语言, 也是一个由一系列计算机软件和规范组成的技术体系 .*

### 1.3. 运行Java程序

- Java是一门半编译型, 半解释型语言 .

- 先通过 `javac` 编译程序进行编译, 生成 `.class` 由字节码组成的平台无关的文件, 然后面向JVM .

- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212092154852.png)
- **通过记事本编写Java源文件:**

1. 首先在记事本里编写一个 `.Java` 的文件, 然后打开 `cmd` . 如果此文件在 D盘, 则需输入命令 `D:` 进入D盘, 然后输入命令 `cd 文件路径` 进入文件内 . 
2. 输入命令 `Javac 文件名.class` 则编译生成 `.class` 字节码文件 ;
3. 输入命令 `Java 文件名` 则直接运行代码 .

- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212092207418.png)

## 2.数据类型与变量

### 2.1.字面常量

- 在程序运行期间，固定不变的量称为常量 .

- 字面常量，直接常量，常量这些没有明显的差别，在定义上有些许的差别 .

- **字面常量的分类:** 字符串常量、整形常量、浮点数常量、字符常量、布尔常量、空常量（null）。

### 2.2.数据类型

- 主要分两类：**基本数据类型**和**引用数据类型**

- 基本数据类型分为 **四类八种**：

- **四类**：整型、浮点型、字符型、布尔型

- **八种**：

- ![](https://img-bed-w-1.oss-cn-hangzhou.aliyuncs.com/Java/Untitled%201.png)

- **注意**：

1. 不论是在16位系统还是32位系统，int都占用4个字节，long都占8个字节( **大小是确定的** )
2. 整形和浮点型都是 **带有符号的**
3. **整型默认** 为int型，**浮点型默认** 为double
4. 字符串属于 **引用类型**

### 2.3.变量

- 定义一个变量, 同时向内存申请一个和变量类型大小相等的内存空间, 这块空间可以填入相应的数据, 上面的内容也可以改变 .

- **变量在使用前必须赋初值，否则编译报错**

- **语法格式：**

```Java
数据类型 变量名 = 初始值

例如:

int a = 10;
```

- **注意**: 长整型变量初始值后面加 **L或则l** .

- 计算机中的 **字符本质上是一个整数**. 在 C 语言中使用 `ASCII` 表示字符, 而 Java 中使用 `Unicode` 表示字符. 因此一个字符占用 **两个字节**, 表示的字符种类更多, 包括中文。

### 2.4.类型转换

- 在Java中，当参与运算数据类型不一致时，就会进行类型转换。Java中类型转换主要分为两类：**自动类型转换(隐式) 和 强制类型转换(显式)** .

- **自动类型转换**：代码不需要经过任何处理，在代码编译时，编译器会 **自动** 进行处理 .

- **特点**：数据范围 **小** 的转为数据范围 **大** 的时会自动进行

* **强制类型转换**：当进行操作时，代码需要经过一定的 **格式处理** ，不能自动完成 .

* **特点**：数据范围 **大** 的到数据范围 **小** 的(强制类型转换不一定能成功 .

- **注意** :
1. 不相干的类型不能互相转换, 强转可能会失败 .
2. 将大范围强转给小范围可能会造成 **精度丢失** .
3. 将一个字面常量进行赋值的时候, Java会自动对数字范围进行检查 .

### 2.5 类型提升

- 不同类型的数据之间相互运算时，数据类型 **小** 的会被提升到数据类型 **大** 的 .

1. int 与 long 之间 : int 会被提升为 long .
2. byte 与 byte : 会被提升为 int 在计算 (计算机的CPU通常是按照4个字节为单位来从内存中读写数据) .

### 2.4 字符串类型

- Java中使用String类来定义字符串类型 .

```Java
public class Main{
	public static void main(String[] args){
		String s1 = "hello";//字符串写在双引号下
		System.out.println(s1);
	}
}
```

- **int转String** :

```Java
public calss Main{
	public static void main(String[] args){
		String str1 = 10 + "";//方法1
		String str2 = String.valueOf(10);//方法2
	}
}
```

- **String转int** :

```Java
public class Main{
	public static void main(String[] args){
		String str = "100";
		int num = Integer.parseInt(str);
	}
}
```

## 3.运算符

### 3.1.算术运算符：

- 基本四则运算符：**+、- 、\*、/、%** .(二元运算符)
1. 做 `/` 和 `%` 时, 右操作数不能为0 .
2. `%` 不仅可以对整型取模, 还可以对 `double` 类型取模 .

- 增量运算符：**+=、-=、\*=、%=** .

- 自增/自减运算符：**++、—** .

- **注意** ：前置++、**先+1在使用**，后置++、**先使用后++** .

### 3.2.关系运算符 ：

- == , !=, < , > , <= , >= .
- 其运算结果是 `true` 或者 `false` .

### 3.3.逻辑运算符：

- **&&、||、！** .
- 其运算结果都是 `Boolean` 类型 .

#### 3.3.1. 逻辑与（&&）

- 语法规则：**表达式1 && 表达式2** .左右表达式必须是boolean类型的结果。
- 短语与, 前面一个表达式为假则后面的表达式不在计算 .
#### 3.3.2. 逻辑 （||）

- 语法规则：**表达式1 || 表达式2** .左右表达式必须是boolean类型的结果。
- 短路或, 前面一个表达式为真, 后面的表达式就不在计算了 .

#### 3.3.3. 逻辑非（！)

- 语法规则：**! 表达式**

#### 3.3.4.位运算符

1. **按位与 &:** 如果两个二进制位都是 1, 则结果为 1, 否则结果为 0. (**全为1才为1**)

2. **按位或 |:** 如果两个二进制位都是 0, 则结果为 0, 否则结果为 1. (**见1为1**)

3. **按位取反 ~**: 如果该位为 0 则转为 1, 如果该位为 1 则转为 0 .

4. **按位异或 ^:** 如果两个数字的二进制位相同, 则结果为 0, 相异则结果为 1 .(**找不同, 不同为1**)

#### 3.3.5 移位运算：

1. **左移 <<:** 最左侧位不要了, 最右侧补 **0** .

2. **右移 >>:** 最右侧位不要了, 最左侧补 **符号位** (正数补0, 负数补1) .

3. **无符号右移 >>>:** 最右侧位不要了, 最左侧补 **0** .

#### 3.3.6 条件运算符：条件运算符只有一个

- **表达式1 ? 表达式2 : 表达式3**

- 当 表达式1 的值为 true 时, 整个表达式的值为 表达式2 的值;
- 当 表达式1 的值为 false 时, 整个表达式的值为 表达式3 的值

- 运算符有优先级, 合理运用括号 .

## 4.逻辑控制

### 4.1.顺序结构：

- 顺序结构就是按照代码书写的顺序一行一行执行 .

### 4.2.分支结构

1. **if语句** （语法格式省略）
2. **Switch语句**

```Java
switch(表达式){
  case 常量值1:{
  语句1;
  break;
  }
  case 常量值2:{
  语句2;
  break;
  }
  
...
  default:{
  内容都不满足时执行语句;
  break;
  }
}
```
  
- **注意**

1. swtich的括号内只不能是 `float` `double` `long` `boolean` 类型 .
2. 可以用引用类型: string常量串, 枚举类型 .
3. 不用忘记 `break` 的使用 .

### 4.3.循环结构

1. **while循环**

```Java
while(循环条件){
循环语句;
}
```
2. **break**

- break 的功能是 **让循环提前结束** .

3. **continue**

- continue 的功能是 **跳过这次循环**, 立即进入下次循环.执行到 continue 语句的时候, 就会立刻进入下次循环(判定循环条件), 从而不会执行到下方的打印语句.

4. **for循环**

```Java
for(表达式①;布尔表达式②;表达式③){
表达式④;
}
1243 --> 243 --> 243 --> .... --> 2为假, 循环结束 
```

5. **do while循环**

```Java
do{
循环语句;
}while(循环条件);

先执行循环语句, 再判定循环条件，循环条件成立则继续执行，否则循环结束。
```

## 5.方法的使用

### 5.1. 什么是方法
- 类似于C语言中的函数，就是被 **重复大量使用** 到的代码块 .

```Java
修饰符 返回值类型 方法名称(参数类型 形参 ...){
	方法体代码;
	return 返回值;
}
```

- **注意** :
1. **方法写在类中** .
2. **方法不能嵌套使用** .
3. **方法不需要声明** .
4. 可以有返回值 .
5. 方法调用会开辟栈桢 .
6. 方法名, 类名可以是中文, but打死不能这么干!!!

### 5.2. 实参和形参

- 相当于函数中的自变量，在定义方法时形参是定义的一个变量，用来存放传过来的值 .

- 实参的值拷贝到形参中，实参和实参是 **两个实体** . 形参的值只是实参的临时 **拷贝** .

- 要想对实参进行改变需要传 **引用类型** .

### 5.3 方法的重载(一词多义)

- 如果多个方法的 **名字相同**，**参数列表不同**，则称该几种方法被重载了 .

- **注意** :
1. 方法名必须相同 .
2. 参数列表必须不同( **参数的个数不同、参数的类型不同、类型的次序必须不同** ) .
3. 与返回值类型是否相同无关 .

### 5.4 方法签名

- 方法签名 : 经过 **编译器编译修改** 过之后方法最终的名字 . 
- 具体方法 : **方法全路径名 + 参数列表 + 返回值类型** , 构成方法完整的名字 .

- Java方法可以重载的原因, 就是方法签名的存在. 在同一个作用域中不能定义两个相同名称的标识符 , 比如 : **方法中不能定义两个名字一样的变量** .


### 5.5 递归

#### 5.5.1 递归的概念
- 递归 : 一个方法在执行的过程中调用自身 .

- 递归的必要条件 : 
1. 起始条件 ;
2. 递推公式 ;
3. 结束条件 .

#### 5.5.2 递归执行的过程

- 方法执行结束后 ,回到调用位置继续往下执行 .
- ![](https://photo-cloud-1314717058.cos.ap-nanjing.myqcloud.com/c/202212132133950.png)
## 6.数组的定义与使用

### 6.1. 什么是数组

- **相同类型元素** 的一个集合。在内存中是 **一段连续的空间** .

- 数组 **下标是从0开始的** .

### 6.2. 数组的创建和初始化
1. ***数组的创建*** :
```Java
T[] 数组名 = new T[N];
 //T：表示数组中存放元素的类型
 //T[]：表示数组的类型
 //N：表示数组的长度

//1
int[] array1 = {1, 2, 3, 4};

//2
int[] arrays = new int[10];

//3
int[] arrays = new int[]{1, 2, 3};
```

- 也可以按照C语言的方式创建数组但是不推荐 .

2. ***数组的初始化***

- **动态初始化** ：只指定数组元素的个数 .
- **静态初始化** ：不指定数组元素的个数，直接初始化数组的元素值 .

- **如果没有对数组进行初始化, 数组元素将是其默认值** . 例如, 整数数组默认值是 **0** ,引用类型默认值为 **null** .

- **注意** :
1. **null** 在Java中表示 "空引用" ,也就是一个不指向对象的引用 ,一个无效的内存位置 .
2. null 与 0号地址的内存没有任何联系 .

3. ***数组是引用类型*** 

- **基本类型变量** ：该变量空间中直接存放的是其所对应的值（储存值）.
- **引用类型变量** ：其空间中存储的是对象所在空间的地址（储存地址) .

- **引用** 本质上就是存了一个地址, 数组设置成引用类型是为了防止将数组传给函数时, 对**数组的拷贝开销过大** .

4. ***数组的使用***

- **遍历** :
1.)for循环 ;
2.)`for-each` .
- **通过 `数组名.length` 来求数组长度** .

```Java
int[] array = {1, 2, 3};
for(int x : array) {
	System.out.println(x);
}
```

- 数组可以直接作为函数的返回值 .

### 6.3 二维数组

- 可以理解成一维数组，每个元素可以理解成一个一维数组 .

```Java
数据类型[][] 数组名称 = new 数据类型[行数][列数] {{},{},{}};
```
  
-  同理还有三维数组、四维数组。

```Java
int[][] arr = {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}};
for (int row = 0; row < arr.length; row++) { //求行数

   for (int col = 0; col < arr[row].length; col++) { //求列数
   
       System.out.printf("%d\t", arr[row][col]); 
       
   }
   
   System.out.println(""); 
}
```

- 二维数组可以是不规则的 .
## 7. 输入与输出

### 7.1 输出到控制台

```Java
System.out.printfln(nm);//输出一个字符串, 带换行
System.out.print(nm);//输出一个字符串, 不带换行
System.out.printf(format, nm);//格式化输出, 和C语言基本一致
```

### 7.2 从键盘输入

- 使用 `Scanner` 读取字符串/ 整数/ 浮点数 . (遇到空格停止)

- 使用 `Scanner` 循环读取N个数字, 并求取其平均值 .

```Java
Scanner sc = new Scanner(System.in);
int sum = 0;
int num = 0;
while(sc.hashNextInt()) {
	int tmp = sc.nextInt();
	sum += tmp;
	num++;
}
System.out.println("sum =" + sum);
System.out.println("avg =" + sum/num);
sc.close();
```

- **注意** : 当循环输入多个数据的时候, 使用 `Ctrl + Z` 来结束输入 (Linux/Mac 上使用 `Ctrl + d`) .